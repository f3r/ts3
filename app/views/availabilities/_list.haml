%div.availabilities-block
  %div{:class => "availability-color #{color_price(a, place)}"}

  %div.data-container
    = render 'availabilities/data', :a => a

  %div.edit-data-container.hide
    = hidden_field_tag "id", a['id'], :id => "id-#{a['id']}"
    = text_field_tag "date_start", "", :placeholder => "dd/mm/yyyy", :class => 'small generic-datepicker', :value => Date.parse(a['date_start']).strftime("%d/%m/%Y"), :id => "date_start-#{a['id']}"
    to
    = text_field_tag "date_end", "", :placeholder => "dd/mm/yyyy", :class => 'small generic-datepicker', :value => Date.parse(a['date_end']).strftime("%d/%m/%Y"), :id => "date_end-#{a['id']}"

    %span.availability-price
      = select_tag "availability_type", raw("<option value='2'#{' selected="selected"' if a['availability_type'] == 2}>New Price</option><option value='1'#{' selected="selected"' if a['availability_type'] == 1}>Unavailable</option>"), :class => 'availability_type', :id => "availability_type-#{a['id']}"
      - if a['availability_type'] == 1
        = text_field_tag "price_per_night", "", :placeholder => "New Price", :class => 'small disabled', :disabled => true, :id => "price_per_night-#{a['id']}"
      - else
        = text_field_tag "price_per_night", "", :placeholder => "New Price", :class => 'small', :value => a['price_per_night'], :id => "price_per_night-#{a['id']}"

    %div.availability-action
      = link_to "Remove", place_availability_path(place.to_param, a['id']), :method => :delete, :confirm => 'Remove this period from your calendar?', :class => 'delete btn error'
      = button_tag "Cancel", :class => "btn cancel-edit-availability"
      = button_tag "Save", :class => "btn primary edit-availability"
